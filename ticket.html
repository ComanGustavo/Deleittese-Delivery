<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ticket Deleittese</title>

<style>
    /* ===== CONFIGURACI√ìN TICKETERA ===== */
    body {
        font-family: 'Courier New', monospace;
        width: 58mm;                 /* üëà ticket 58 mm REAL */
        margin: 0;
        padding: 6px;
        color: #000;
        background: #fff;
    }

    h2 {
        font-size: 16px;
        margin: 4px 0;
    }

    p {
        font-size: 12px;
        margin: 2px 0;
    }

    .text-center {
        text-align: center;
    }

    .linea {
        border-top: 1px dashed #000;
        margin: 6px 0;
    }

    .dato {
        font-size: 12px;
        margin: 4px 0;
        word-wrap: break-word;
        overflow-wrap: break-word;
        line-height: 1.2;
    }

    @media print {
        body {
            margin: 0;
        }
    }
</style>
</head>

<body>

<div class="text-center">
    <h2>DELEITTESE</h2>
    <p>*** TICKET DE PEDIDO ***</p>
</div>

<div class="linea"></div>

<div id="contenedor-datos">
    <!-- Se completa por JS -->
</div>

<div class="linea"></div>

<div class="text-center">
    <p>¬°Muchas gracias!</p>
</div>

<script>
/* ===== LEEMOS PARAMETROS ===== */
const params = new URLSearchParams(window.location.search);

/* ===== RENDER TICKET ===== */
function renderTicket() {
    const html = `
        <div class="dato"><b>CLIENTE:</b><br>${params.get('cliente') ?? 'No indicado'}</div>
        <div class="dato"><b>DIRECCI√ìN:</b><br>${params.get('direccion') ?? 'No indicada'}</div>
        <div class="dato"><b>DETALLE:</b><br>${params.get('pedido') ?? 'Sin productos'}</div>
        <div class="linea"></div>
        <div class="dato"><b>COSTO ENV√çO:</b> ${params.get('envio') ?? '$0'}</div>
        <div class="dato"><b>TOTAL:</b> ${params.get('total') ?? '$0.00'}</div>
    `;
    document.getElementById("contenedor-datos").innerHTML = html;
}

/* ===== CLAVE PARA WHATSAPP ===== */
window.onload = () => {
    renderTicket();

    /* Delay obligatorio para que Chrome/WhatsApp rendericen */
    setTimeout(() => {
        window.print();
    }, 800);
};
</script>

</body>
</html>
